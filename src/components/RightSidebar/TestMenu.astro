---
import UIString from '../UIString.astro';

export interface Props {
	hideOnLargerScreens?: boolean;
}

const { hideOnLargerScreens = false } = Astro.props as Props;

const Wrapper = hideOnLargerScreens ? 'details open' : 'div';

const HeadingWrapper = hideOnLargerScreens ? 'summary' : 'div';
---

<Wrapper class:list={[{ 'hide-on-large-screens': hideOnLargerScreens }]}>
	<HeadingWrapper>
		<h2 class="heading"><UIString key="rightSidebar.feedback" /></h2>
		{
			hideOnLargerScreens && (
				<svg class="chevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 1 16 16" width="16" height="16" aria-hidden="true">
					<path fill-rule="evenodd" d="M6.22 3.22a.75.75 0 011.06 0l4.25 4.25a.75.75 0 010 1.06l-4.25 4.25a.75.75 0 01-1.06-1.06L9.94 8 6.22 4.28a.75.75 0 010-1.06z" />
				</svg>
			)
		}
	</HeadingWrapper>
	<ul class="items">
		<li>
			<a class="header-link" href="https://feedback.oxyprops.com/" target="_blank">
				<svg
					aria-hidden="true"
					focusable="false"
					data-prefix="fas"
					data-icon="comment-alt"
					class="svg-inline--fa fa-comment-alt fa-w-16"
					role="img"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 512 512"
					height="1em"
					width="1em"
				>
					<path
						fill="currentColor"
						d="M223.1 32c0-17.67 15.2-32 32-32C273.7 0 288 14.33 288 32h153.4c4.2 0 8.3 1.69 11.3 4.69l48 48c6.2 6.24 6.2 16.41 0 22.61l-48 48c-3 3-7.1 4.7-11.3 4.7H63.1c-16.77 0-32-14.3-32-32V64c0-17.67 15.23-32 32-32h160zM480 320c0 17.7-14.3 32-32 32H70.63c-4.25 0-8.32-1.7-11.32-4.7l-48-48c-6.245-6.2-6.245-16.4 0-22.6l48-48c3-3 7.07-5.6 11.32-5.6H223.1v-32H288v32h160c17.7 0 32 15.2 32 32V320zM255.1 512c-16.8 0-32-14.3-32-32v-96H288v96c0 17.7-14.3 32-32.9 32z"
					>
					</path>
				</svg>
				<span><UIString key="rightSidebar.roadmap" /></span>
			</a>
		</li>
		<li>
			<a class="header-link" href="https://feedback.oxyprops.com/ideas" target="_blank">
				<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 384 512">
					<path
						fill="currentColor"
						d="M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7l.128-39.2H112l.1 39.2zM191.4.013C89.44.326 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8 16.53 18.84 42.34 58.23 52.22 91.45.031.25.094.517.125.782h160.2c.031-.265.094-.516.125-.782 9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1 368 78.61 288.9-.284 191.4.013zm.6 95.997c-44.13 0-80 35.89-80 79.1 0 9.69-7.2 16.89-16 16.89s-16-7.2-16-16c0-61.76 50.25-111.1 112-111.1 8.844 0 16 7.159 16 16s-7.2 15.11-16 15.11z"
					></path>
				</svg>
				<span><UIString key="rightSidebar.idea" /></span>
			</a>
		</li>
		<li>
			<a class="header-link" href="https://feedback.oxyprops.com/bugs" target="_blank">
				<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">
					<path
						fill="currentColor"
						d="M352 96v3.56c0 15.74-12.7 28.44-28.4 28.44H188.4c-15.7 0-29.3-12.7-29.3-28.44V96c0-53.02 43-96 96-96C309 0 352 42.98 352 96zm-310.63 9.4c12.5-12.52 32.76-12.52 45.26 0l63.97 64c.7.6 1.3 1.3 1.9 2 14.3-7.3 30.4-11.4 46.6-11.4H312c17.1 0 33.2 4.1 47.5 11.4.6-.7 1.2-1.4 1.9-2l64-64c12.5-12.52 32.7-12.52 45.2 0 12.5 12.5 12.5 32.7 0 45.2l-64 64c-1.5.7-1.3 1.3-2 1.9 6.1 12 10 25.4 11.1 39.5H480c17.7 0 32 14.3 32 32s-14.3 32-32 32h-64c0 24.6-5.5 47.8-15.4 68.6 2.1 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.7 0 45.2s-32.7 12.5-45.2 0l-63.1-63c-24.5 21.8-55.8 36.2-90.3 39.6V240c0-8.8-7.2-16-16.9-16-7.9 0-16 7.2-16 16v239.2c-33.6-3.4-64.9-17.8-89.4-39.6l-63.07 63c-12.5 12.5-32.76 12.5-45.26 0-12.49-12.5-12.49-32.7 0-45.2l64.03-64c1.8-1.9 3.9-3.5 6-4.8-9.9-20.8-15.4-44-15.4-68.6H32c-17.67 0-32-14.3-32-32s14.33-32 32-32h64.3c1.08-14.1 5-27.5 11.1-39.5-.7-.6-1.4-1.2-2-1.9l-64.03-64c-12.49-12.5-12.49-32.7 0-45.2z"
					></path>
				</svg>
				<span><UIString key="rightSidebar.bug" /></span>
			</a>
		</li>
	</ul>
</Wrapper>

<style>
	h2 {
		padding-inline-start: 2rem;
	}

	.items {
		padding-inline-start: 1rem;
	}

	@media (min-width: 50em) {
		h2 {
			padding-inline-start: 1rem;
		}

		.items {
			padding-inline-start: 0;
		}
	}

	@media (min-width: 72em) {
		:global(.hide-on-large-screens) {
			display: none;
		}

		h2 {
			padding-inline-start: calc(1rem + 4px);
		}
	}

	details {
		margin-bottom: 1rem;
	}

	details > summary {
		list-style: none;
	}

	details > summary::marker,
	details > summary::-webkit-details-marker {
		display: none;
	}

	details[open] > summary .chevron {
		transform: rotate(90deg);
	}

	summary {
		cursor: pointer;
		padding: 0.3rem 0;
	}

	summary h2 {
		margin: 0;
		display: inline;
	}

	.chevron {
		transform: rotate(0);
		transition: 0.15s transform ease;
		vertical-align: middle;
	}

	:global([dir='rtl']) .chevron {
		transform: rotate(180deg);
	}

	svg path {
		fill: currentColor;
	}
</style>
